{"remainingRequest":"c:\\workspace\\fortes-nota\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\workspace\\fortes-nota\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\workspace\\fortes-nota\\frontend\\src\\views\\Login.vue","mtime":1603220414698},{"path":"c:\\workspace\\fortes-nota\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602608302221},{"path":"c:\\workspace\\fortes-nota\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1602608302102},{"path":"c:\\workspace\\fortes-nota\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1602608302221},{"path":"c:\\workspace\\fortes-nota\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1602608319167}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dpbiIsDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWN0aXZlVGFiOiAnTG9naW4nLA0KICAgICAgYWxlcnRFcnJvcjogIiIsDQogICAgICBhbGVydEluZm86ICIiLA0KICAgICAgYWxlcnRTdWNjZXNzOiAiIiwNCiAgICAgIGZvcm1zaWdudXA6IHsNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgIGNvbmZwYXNzOiAiIiwNCiAgICAgIH0sDQogICAgICBmb3JtTG9naW46IHsNCiAgICAgICAgZW1haWw6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICB9LA0KICAgICAgc2hvd1NpZ251cE1vZGFsOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBzdWNjZXNzU2lnbnVwKCkgew0KICAgICAgdGhpcy4kYnVlZnkudG9hc3Qub3Blbih7DQogICAgICAgIG1lc3NhZ2U6ICJVc3XDoXJpbyBDYWRhc3RyYWRvIGNvbSBTdWNlc3NvLiIsDQogICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBlcnJvclNpZ251cChtZXNzYWdlbSkgew0KICAgICAgdGhpcy4kYnVlZnkudG9hc3Qub3Blbih7DQogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VtLA0KICAgICAgICB0eXBlOiAiaXMtZGFuZ2VyIiwNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBjcmVhdGUoKSB7DQogICAgICBpZiAodGhpcy5mb3Jtc2lnbnVwLmVtYWlsID09PSAiIikgew0KICAgICAgICB0aGlzLmVycm9yU2lnbnVwKCJJbmZvcm1lIG8gZW1haWwiKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmZvcm1zaWdudXAucGFzc3dvcmQgPT09ICIiKSB7DQogICAgICAgIHRoaXMuZXJyb3JTaWdudXAoIkluZm9ybWUgYSBzZW5oYSIpOw0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMuZm9ybXNpZ251cC5wYXNzd29yZCAhPSB0aGlzLmZvcm1zaWdudXAuY29uZnBhc3MpIHsNCiAgICAgICAgdGhpcy5lcnJvclNpZ251cCgiQSBjb25maXJtYcOnw6NvIGRhIHNlbmhhIG7Do28gY29uZmVyZS4iKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICB9DQoNCiAgICAgIHdpbmRvdy5heGlvcw0KICAgICAgICAucG9zdCgiL3VzZXIiLCB0aGlzLmZvcm1zaWdudXApDQogICAgICAgIC50aGVuKGFzeW5jIChyZXMpID0+IHsNCiAgICAgICAgICBhd2FpdCByZXMuZGF0YTsNCiAgICAgICAgICB0aGlzLnN1Y2Nlc3NTaWdudXAoKTsNCiAgICAgICAgICB0aGlzLmFjdGl2ZVRhYiA9IDA7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICB0aGlzLmVycm9yU2lnbnVwKCk7DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5mb3Jtc2lnbnVwLmVtYWlsID0gIiI7DQogICAgICB0aGlzLmZvcm1zaWdudXAucGFzc3dvcmQgPSAiIjsNCiAgICAgIHRoaXMuZm9ybXNpZ251cC5jb25mcGFzcyA9ICIiOw0KICAgICAgdGhpcy5hY3RpdmVUYWIgPSAnTG9naW4nOw0KICAgIH0sDQoNCiAgICBsb2dpbigpIHsNCiAgICAgIGlmICh0aGlzLmZvcm1Mb2dpbi5lbWFpbCA9PT0gIiIpIHsNCiAgICAgICAgdGhpcy5hbGVydEVycm9yID0gIkluZm9ybWUgbyBlbWFpbCI7DQogICAgICAgIHJldHVybiBudWxsOw0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5mb3JtTG9naW4ucGFzc3dvcmQgPT09ICIiKSB7DQogICAgICAgIHRoaXMuYWxlcnRFcnJvciA9ICJJbmZvcm1lIGEgc2VuaGEiOw0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgIH0NCg0KICAgICAgd2luZG93LmF4aW9zDQogICAgICAgIC5wb3N0KCIvc2Vzc2lvbiIsIHRoaXMuZm9ybUxvZ2luKQ0KICAgICAgICAudGhlbihhc3luYyAocmVzKSA9PiB7DQogICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHJlcy5kYXRhOw0KICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyX3Rva2VuIiwgcmVzcC51c2VyX3Rva2VuKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHRoaXMuYWxlcnRFcnJvciA9ICJFbWFpbCBlL291IHNlbmhhIGludsOhbGlkb3MuIjsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-8\">\r\n        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\r\n        <img src=\"../assets/logo-fortes-tecnologia.gif\" alt=\"Logo\" />\r\n        <h1 class=\"title is-4\">\r\n          Métricas de Qualidade para os cards do Desenvolvimento\r\n        </h1>\r\n      </div>\r\n      <div class=\"column is-4\">\r\n        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />\r\n        <article v-if=\"alertError\" class=\"message is-danger\">\r\n          <div class=\"message-body\">\r\n            {{ alertError }}\r\n          </div>\r\n        </article>\r\n        <b-tabs type=\"is-toggle\" expanded>\r\n          <b-tab-item label=\"Login\">\r\n            <div class=\"card\">\r\n              <div class=\"card-content\">\r\n                <form>\r\n                  <div class=\"field\">\r\n                    <p class=\"control has-icons-left has-icons-right\">\r\n                      <input\r\n                        class=\"input\"\r\n                        v-model=\"formLogin.email\"\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                      />\r\n                      <span class=\"icon is-small is-left\">\r\n                        <i class=\"fas fa-envelope\"></i>\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"field\">\r\n                    <p class=\"control has-icons-left\">\r\n                      <input\r\n                        class=\"input\"\r\n                        v-model=\"formLogin.password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                      />\r\n                      <span class=\"icon is-small is-left\">\r\n                        <i class=\"fas fa-lock\"></i>\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div class=\"field\">\r\n                    <p class=\"control\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"button is-danger is-rounded\"\r\n                        @click=\"login()\"\r\n                      >\r\n                        Login\r\n                      </button>\r\n                    </p>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </b-tab-item>\r\n          <b-tab-item label=\"Signup\">\r\n            <div class=\"card\">\r\n              <div class=\"card-content\">\r\n                <form>\r\n                  <div class=\"field\">\r\n                    <p class=\"control has-icons-left has-icons-right\">\r\n                      <input\r\n                        class=\"input\"\r\n                        v-model=\"formsignup.email\"\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                      />\r\n                      <span class=\"icon is-small is-left\">\r\n                        <i class=\"fas fa-envelope\"></i>\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"field\">\r\n                    <p class=\"control has-icons-left\">\r\n                      <input\r\n                        class=\"input\"\r\n                        v-model=\"formsignup.password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                      />\r\n                      <span class=\"icon is-small is-left\">\r\n                        <i class=\"fas fa-lock\"></i>\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"field\">\r\n                    <p class=\"control has-icons-left\">\r\n                      <input\r\n                        class=\"input\"\r\n                        v-model=\"formsignup.confpass\"\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm Password\"\r\n                      />\r\n                      <span class=\"icon is-small is-left\">\r\n                        <i class=\"fas fa-lock\"></i>\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div class=\"field\">\r\n                    <p class=\"control\">\r\n                      <button\r\n                        type=\"button\"\r\n                        class=\"button is-danger is-rounded\"\r\n                        @click=\"create()\"\r\n                      >\r\n                        Cadastrar\r\n                      </button>\r\n                    </p>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </b-tab-item>\r\n        </b-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n\r\n  data() {\r\n    return {\r\n      activeTab: 'Login',\r\n      alertError: \"\",\r\n      alertInfo: \"\",\r\n      alertSuccess: \"\",\r\n      formsignup: {\r\n        email: \"\",\r\n        password: \"\",\r\n        confpass: \"\",\r\n      },\r\n      formLogin: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n      showSignupModal: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    successSignup() {\r\n      this.$buefy.toast.open({\r\n        message: \"Usuário Cadastrado com Sucesso.\",\r\n        type: \"is-success\",\r\n      });\r\n    },\r\n\r\n    errorSignup(messagem) {\r\n      this.$buefy.toast.open({\r\n        message: messagem,\r\n        type: \"is-danger\",\r\n      });\r\n    },\r\n\r\n    create() {\r\n      if (this.formsignup.email === \"\") {\r\n        this.errorSignup(\"Informe o email\");\r\n        return null;\r\n      }\r\n\r\n      if (this.formsignup.password === \"\") {\r\n        this.errorSignup(\"Informe a senha\");\r\n        return null;\r\n      }\r\n\r\n      if (this.formsignup.password != this.formsignup.confpass) {\r\n        this.errorSignup(\"A confirmação da senha não confere.\");\r\n        return null;\r\n      }\r\n\r\n      window.axios\r\n        .post(\"/user\", this.formsignup)\r\n        .then(async (res) => {\r\n          await res.data;\r\n          this.successSignup();\r\n          this.activeTab = 0;\r\n        })\r\n        .catch((error) => {\r\n          this.errorSignup();\r\n        });\r\n      this.formsignup.email = \"\";\r\n      this.formsignup.password = \"\";\r\n      this.formsignup.confpass = \"\";\r\n      this.activeTab = 'Login';\r\n    },\r\n\r\n    login() {\r\n      if (this.formLogin.email === \"\") {\r\n        this.alertError = \"Informe o email\";\r\n        return null;\r\n      }\r\n\r\n      if (this.formLogin.password === \"\") {\r\n        this.alertError = \"Informe a senha\";\r\n        return null;\r\n      }\r\n\r\n      window.axios\r\n        .post(\"/session\", this.formLogin)\r\n        .then(async (res) => {\r\n          const resp = await res.data;\r\n          localStorage.setItem(\"user_token\", resp.user_token);\r\n          this.$router.push(\"/home\");\r\n        })\r\n        .catch((error) => {\r\n          this.alertError = \"Email e/ou senha inválidos.\";\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n "]}]}